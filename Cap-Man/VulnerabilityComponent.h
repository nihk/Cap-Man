#pragma once
#include "Component.h"

class VulnerabilityComponent 
    : public Component<VulnerabilityComponent> {
public:
    VulnerabilityComponent();
    ~VulnerabilityComponent();

    bool isVulnerable() const { return mIsVulnerable; }
    void setVulnerability(bool isVulnerable) { mIsVulnerable = isVulnerable; }
    void makeTemporarilyVulnerable(float howLong);
    void reset();
    void update(float delta);
    float timeRemainingVulnerable() const;

private:
    static const float VULNERABLE_DURATION_EXPIRED;

    bool mIsVulnerable;
    bool mIsTiming;
    float mAccumulatedTime;
    float mVulnerableDuration;
};

